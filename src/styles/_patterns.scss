@use "utils/breakpoints";

// Grid layouts on mobile.
.wp-block-group.is-layout-grid {

	// Info grid.
	&.scg-info-grid {

		@media (max-width: calc(#{breakpoints.$break-xlarge} - 1px)) {
			grid-template-columns: repeat(auto-fill, minmax(min(14rem, 100%), 1fr));
		}
	}

	&:not(.scg-info-grid) {

		@media (max-width: calc(#{breakpoints.$break-mobile-layout} - 1px)) {
			grid-template-columns: 1fr;

			> :is(*, div) {
				grid-column: 1;
			}
		}
	}
}

// Media & text.
.wp-block-media-text {

	>.wp-block-media-text__content {
		padding-right: max(calc((100vw - var(--wp--style--global--content-size)) / 2), var(--wp--preset--spacing--16));
	}

	&.has-media-on-the-right {

		>.wp-block-media-text__content {
			padding-left: max(calc((100vw - var(--wp--style--global--content-size)) / 2), var(--wp--preset--spacing--16));
		}
	}

	@media (max-width: #{breakpoints.$break-small}) {

		&.is-stacked-on-mobile {

			>.wp-block-media-text__content {

				> *:first-child {
					margin-top: 1em;
				}
			}

			>.wp-block-media-text__media {
				padding-left: max(calc((100vw - var(--wp--style--global--content-size)) / 2), var(--wp--preset--spacing--16));
				padding-right: max(calc((100vw - var(--wp--style--global--content-size)) / 2), var(--wp--preset--spacing--16));
			}
		}

		&.is-image-fill-element > .wp-block-media-text__media img {
			position: static;
		}
	}
}

// Featured
.wp-block-cover {
	padding: var(--navigation--height) 0 0;
	background-color: var(--wp--preset--color--base);

	&__inner-container {
		padding: var(--wp--preset--spacing--80) 0;
		width: 100%;
	}

	&__background {
		background-color: #000;
	}

	// Override default fixed background position settings.
	&__image-background.has-parallax {
		background-position: center top !important;
	}

	// Section splash.
	&.is-style-section-splash {
		align-items: unset;
		justify-content: unset;

		.wp-block-cover {

			// Override content position settings.
			&__inner-container {
				margin-left: auto !important;
				margin-right: auto !important;
				width: 100% !important;
			}
		}

		.wp-block-columns {
			height: 100%;

			.wp-block-column:last-child {
				align-self: end;
			}
		}
	}

	// Page splash.
	&.is-style-page-splash {
		padding-bottom: var(--wp--preset--spacing--32);
		align-items: unset;

		.wp-block-cover__inner-container {
			display: flex;
			justify-content: center;
			flex-direction: column;
			padding-top: 0;

			> * {

				&:not(.wp-block-scg-scroll-badge) {
					width: 100%;
				}
			}
		}

		&:has(.wp-block-scg-scroll-badge) {

			.wp-block-cover__inner-container {
				padding-bottom: calc(var(--scg-splash--badge--size) + var(--wp--style--block-gap));

				@include breakpoints.break-xlarge {
					padding-bottom: var(--scg-splash--badge--size);
				}
			}
		}

		.wp-block-scg-scroll-badge {
			position: absolute;
			bottom: 0;
			left: 50%;
			margin-left: calc(-1 * var(--scg-splash--badge--size) / 2) !important;

			@include breakpoints.break-mobile {
				left: unset;
				transform: unset;
				right: var(--navigation--padding-x);
				margin: 0 !important;
			}
		}
	}
}

// Box.
.scg-box {
	border: 4px solid var(--wp--preset--color--accent);

	&__content {
		min-width: 200px;
	}

	&.wp-block-group {

		> figure {
			margin-left: auto;
			margin-right: auto;
		}

		@include breakpoints.break-mobile {
			display: grid;
			row-gap: var(--wp--preset--spacing--16);
			grid-template-columns: var(--box--icon--size, 96px) 1fr;

			> figure {
				grid-column: 1;
				grid-row: 1 / span 2;
				align-self: start;
				justify-self: center;
			}

			p {
				grid-column: 2;
			}

			p:first-of-type {
				grid-area: 1/2;
			}
		}
	}
}

// Fleet model row.
.scg-fleet-model {

	@media ((min-width: breakpoints.$break-small) and (max-width: breakpoints.$break-xlarge)) {

		.wp-block-image {
			grid-column: span 4;
		}

		p,
		ul {
			grid-column: span 2;
		}
	}
}
